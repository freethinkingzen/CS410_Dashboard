<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Seismic Dashboard - CHARTS</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="../styles.css" />
  </head>
  <body>
    <header>
      <!--Collapsible Navigation Bar-->
      <nav class="navbar navbar-expand-md bg-dark navbar-dark">
        <button 
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#collapsibleNavbar">
          <span class="navbar-toggler-icon"></span>
        </button>
        <a class="navbar-brand mx-auto" href="../index.html">Seismic Dashboard</a>  
        <!--NavBar Links-->
        <div class="collapse navbar-collapse" id="collapsibleNavbar">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="../index.html">HOME</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="map.html">MAP</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="chart.html">CHARTS</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="about.html">ABOUT</a>
            </li>
          </ul>
        </div>
      </nav>
    </header>
    <div class="container">
      <!--Refresh Chart-->
      <div class="row bg-dark rounded text-center text-white m-2 justify-content-around">
        <div class="col-12 col-md-9">
          <h2 >Up-to-Date Chart</h2>
          <p>Refreshes every minute</p>
          <div class="btn-group btn-group-toggle" data-toggle="buttons">
            <label class="btn btn-secondary active" onclick="setThenRefresh('hour')">
              <input type="radio" checked><b>This Hour</b>
            </label>
            <label class="btn btn-secondary" onclick="setThenRefresh('day')">
              <input type="radio" ><b>Past Day</b>
            </label>
            <label class="btn btn-secondary" onclick="setThenRefresh('week')">
              <input type="radio" ><b>Past Week</b>
            </label>
          </div>
          <canvas id="refresh-chart" aria-label="refreshing chart" role="img"></canvas>
        </div>
      </div>
      <!--Bar Chart-->
      <div class="row bg-dark rounded text-center text-white m-2 justify-content-around" >
        <div class="col-12 col-md-9">
          <h2 >Quakes per Day</h2>
          <div class="btn-group btn-group-toggle" data-toggle="buttons">
            <label class="btn btn-secondary active" onclick="updateBarChart('week')">
              <input type="radio" checked><b>Past Week</b>
            </label>
            <label class="btn btn-secondary" onclick="updateBarChart('month')">
              <input type="radio" ><b>Past Month</b>
            </label>
          </div>
          <canvas id="bar-chart" aria-label="quakes per day chart" role="img"></canvas>
        </div>
      </div>
    </div>
    <div class="row bg-dark rounded text-center text-white m-2 justify-content-around" >
      <div class="col-12 col-md-9">
        <h4 class="mt-2 mb-4">Input Location</h4>
        <form id="location-form">
          <div class="form-group">
            <div class="row">
              <div class="col">
                <label for="minLat">Minimum Latitude (-90 - 90)</label>
                <input type="text" class="form-control" id="minLat" name="minLat" placeholder="-90" value="-90">
              </div>
              <div class="col">
                <label for="maxLat">Maximum Latitude (-90 - 90)</label>
                <input type="text" class="form-control" id="maxLat" name="maxLat" placeholder="90" value="90">
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="row">
              <div class="col">
                <label for="minLong">Minimum Longitude (-180 - 180)</label>
                <input type="text" class="form-control" id="minLong" name="minLong" placeholder="-180" value="-180">
              </div>
              <div class="col">
                <label for="maxLong">Maximum Longitude (-180 - 180)</label>
                <input type="text" class="form-control" id="maxLong" name="maxLong" placeholder="180" value="180">
              </div>
            </div>
          </div>
          <!--Change button TYPE to align with backend-->
          <button type="button" class="btn btn-primary" onclick="createChartViaForm('location-form', 'locChart')">Create chart via Location</button>
        </form>
        <canvas id="locChart" aria-label="location chart" role="img"></canvas>
      </div>
    </div>
    <!-- Moment.js -->
    <script src="https://momentjs.com/downloads/moment.js"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
    <!-- Local JS -->
    <script src="../JS/simpleAPI.js"></script>
    <script src="../JS/chartUtils.js"></script>
    <script src="../JS/chart.js"></script>

    <footer>
      <!--Collapsible Navigation Bar-->
      <nav class="navbar bg-dark navbar-dark">
        <!--NavBar Links-->
        <div class="container-fluid" id="footNavbar">
          <ul class="nav navbar-nav d-flex flex-row">
            <li class="nav-item">
              <a class="nav-link" href="../index.html">HOME</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="map.html">MAP</a>
            </li>
            <li class="nav-item active">
              <a class="nav-link" href="chart.html">CHARTS</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="about.html">ABOUT</a>
            </li>
          </ul>
        </div>
      </nav>
      <p class="text-center text-white">Authors: John Lewis, Ryan Lui</p>
    </footer>
  </body>
</html>
